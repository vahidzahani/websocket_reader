<meta http-equiv="Content-Type" content="text/html; charset=utf-8"><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>document for test my javascript client</title>
<style type = "text/css">
	*{font-family:tahoma;font-size:12px; border-color:#000000}
</style>

	<script language="javascript" src="websocket.js"></script>
	<script language="javascript" src="jquery.min.js"></script>
	
	
</head>
<body style="direction:rtl" >	
	<div style="font-family: 'b titr';font-size: 50px;">متن تست برای فونت است</div>
	<div style="width: 15cm;">
        <span>this is a test for client .</span>
		<strong>این متن آزمایشی است</strong>
		<button id="btnClick">Microsoft Print to PDF</button>
		<button id="btnClick2">label</button>
		<button id="btnClick3" onclick="printOut3()"><h1>AJAX</h1></button>
		<p style="direction: ltr;">#showprintersocket</p>
	</div>
	<script lang="javascript">
		document.getElementById("btnClick").addEventListener("click",printOut);
		document.getElementById("btnClick2").addEventListener("click",printOut2);
		//document.getElementById("btnClick3").addEventListener("click",printOut3);
		
		

		function printOut()
		{
			printer_socket('{"0":"5","id":"5","1":"paziresh","type":"paziresh","2":"paziresh_form","page_name":"paziresh_form","3":"answer","printer_name":"Microsoft Print to PDF","4":"0.2","margin_top":"0.2","5":"0","margin_right":"0","6":"0","margin_bottom":"0","7":"0","margin_left":"0","8":"","header":"","9":"","footer":"","10":"","page_address":"","11":"0","is_direct":"0","12":"0","closure":"0","13":"\u0686\u0627\u067e \u0641\u0631\u0645 \u067e\u0630\u06cc\u0631\u0634 \u0628\u0633\u062a\u0631\u06cc","page_title":"\u0686\u0627\u067e \u0641\u0631\u0645 \u067e\u0630\u06cc\u0631\u0634 \u0628\u0633\u062a\u0631\u06cc"}', ($(document.body).html()), 'http://192.168.1.200/care2', '../../','0');
		}
		function printOut2()
		{
            
			printer_socket('{"0":"5","id":"5","1":"paziresh","type":"paziresh","2":"paziresh_form","page_name":"paziresh_form","3":"answer","printer_name":"label","4":"0.2","margin_top":"0.2","5":"0","margin_right":"0","6":"0","margin_bottom":"0","7":"0","margin_left":"0","8":"","header":"","9":"","footer":"","10":"","page_address":"","11":"0","is_direct":"1","12":"0","closure":"0","13":"\u0686\u0627\u067e \u0641\u0631\u0645 \u067e\u0630\u06cc\u0631\u0634 \u0628\u0633\u062a\u0631\u06cc","page_title":"\u0686\u0627\u067e \u0641\u0631\u0645 \u067e\u0630\u06cc\u0631\u0634 \u0628\u0633\u062a\u0631\u06cc"}', ($(document.body).html()), 'http://192.168.1.200/care2', '../../','0');
		}
		function printOut3()
		{
			console.log("START printOut3");
			$.ajaxPrefilter(function(options) {
				if (options.type === 'POST') {
					options.xhrFields = {
						withCredentials: true
					};
				}
			});

			$.ajax({
				url: 'http://127.0.0.1:1988', // Your C# API endpoint
				type: 'POST',
				contentType: 'application/json',
				data: JSON.stringify({
					print_setting: {
						id: '1',
						printer_name: 'MyPrinter',
						// Add other print_setting data here
					},
					visibleContent: '<html><body><h1>Hello from JavaScript!</h1></body></html>',
					// Add other data here
				}),
				success: function(response) {
					// Handle successful response (JSON data) from C# program
					console.log('Response from C#:', response);

					// Extract and process C# program response data here
					// ...
				},
				error: function(jqXHR, textStatus, errorThrown) {
					// Handle error
					console.error('Error sending data to C# program:', errorThrown);
				}
			});
		}
	</script>
</body>
</html>